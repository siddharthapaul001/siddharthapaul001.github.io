!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=document;let i={};function s(e,t){i[e]=t}function r(e){return i[e]}function d(e,t,n){let i,s,r=e;"string"==typeof r?(i=o.createElement(r),r={attrs:{},node:i}):i=r.node,s=Object.keys(t);for(let e=0,n=s.length;e<n;e++)r.attrs[s[e]]&&r.attrs[s[e]]===t[s[e]]||(r.attrs[s[e]]=t[s[e]],i.setAttribute(s[e],t[s[e]]));return void 0!==n&&(i.textContent=n),r}class a{_setDefaultConfig(){this._config={frameDrawn:!1,requestedAnimationFrame:!1},this._components={}}configure(e){let t=this._config;this._config={...t,...e}}getConfig(e){return this._config[e]}getNode(){return this._components["root-wraper"]&&this._components["root-wraper"].node}getIdx(){return this._config.idx}setIdx(e){this._config.idx=e}setParentComponent(e){this._parentComponent=e}getParentComponent(){return this._parentComponent}_requestDraw(){this._config.requestedAnimationFrame||(this._draw(),this._config.requestedAnimationFrame=!0)}_drawFrame(){}_draw(){this._config.frameDrawn||this._drawFrame()}dispose(){this._components["root-wraper"]&&(this._components["root-wraper"].node.parentNode.removeChild(this._components["root-wraper"].node),this._disposed=!0,this._components={},this._config={})}}class c extends a{constructor(e){super(),this._setDefaultConfig(),this.configure(e),this._requestDraw()}_setDefaultConfig(){super._setDefaultConfig()}_drawFrame(){let e=d("div",{class:"item-wraper",draggable:"true"}),t=d("div",{class:"item"}),n=d("div",{class:"item-text"},this._config.text),o=d("a",{class:"btn right btn-edit",href:"#!"}),i=d("img",{class:"ico-edit",src:"assets/pencil.png",width:"10px",height:"10px"});e.node.addEventListener("dragstart",e=>{e.dataTransfer.setData("currentIdx",this.getIdx()),e.dataTransfer.setData("currentParentIdx",this.getParentComponent().getIdx())}),o.node.addEventListener("click",(function(){var e,t,o;d(n,{contenteditable:"true"}),e=n.node,document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(o=window.getSelection()).removeAllRanges(),o.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())})),n.node.addEventListener("keydown",e=>{13===e.keyCode&&(e.preventDefault(),""!==n.node.textContent?(this._config.text=n.node.textContent,d(n,{contenteditable:"false"},this._config.text)):this.dispose())}),o.node.appendChild(i.node),t.node.appendChild(n.node),t.node.appendChild(o.node),e.node.appendChild(t.node),this._components["root-wraper"]=e,this._components.root=t,this._components["inp-edit"]=n,this._components["item-text"]=n}_draw(){super._draw()}}class l extends a{constructor(e,t){super(),this._setDefaultConfig(e,t),this._requestDraw()}_setDefaultConfig(e,t){super._setDefaultConfig(),this._config.title="Enter title here",this._config.parent=e,this._config.beforeElem=t,this._listItems=[]}_drawFrame(){this._config.frameDrawn=!0;let e=d("div",{class:"list-wraper"}),t=d("div",{class:"list"}),n=d("div",{class:"header"}),o=d("input",{class:"inp-transparent inp-title",value:"Enter title here..."}),i=d("a",{class:"btn-more",href:"#!"},"···"),s=d("div",{class:"items-container",style:"max-height:"+r("ic-height")+"px"}),a=d("div",{class:"input-container"}),c=d("div",{class:"txt-note-container"}),l=d("input",{class:"inp-transparent txt-note",placeholder:"＋ Add another card",type:"text"}),p=d("div",{class:"btn-save-container"}),h=d("a",{class:"btn btn-save"}),u=d("img",{src:"assets/floppy_disk.png",width:"20px",height:"20px"});e.node.addEventListener("dragover",e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"}),e.node.addEventListener("drop",e=>{let t=e.dataTransfer.getData("currentIdx"),n=e.dataTransfer.getData("currentParentIdx"),o=r("lists")[n].getItem(t),i=o.getConfig("text");this.saveNote(i),o.dispose()}),h.node.addEventListener("click",()=>{this.saveNote(l.node.value),l.node.value=""}),n.node.appendChild(o.node),n.node.appendChild(i.node),t.node.appendChild(n.node),t.node.appendChild(s.node),c.node.appendChild(l.node),a.node.appendChild(c.node),h.node.appendChild(u.node),p.node.appendChild(h.node),a.node.appendChild(p.node),t.node.appendChild(a.node),e.node.appendChild(t.node),this._config.parent.insertBefore(e.node,this._config.beforeElem),l.node.addEventListener("keyup",e=>{13===e.keyCode&&""!==l.node.value&&(this.saveNote(l.node.value),l.node.value="")}),this._components["root-wraper"]=e,this._components.root=t,this._components["inp-title"]=o,this._components["items-container"]=s,this._components["inp-add-card"]=l}saveNote(e){let t=this._components["items-container"],n=new c({text:e});this.addItem(n),t.node.scrollTop=t.node.scrollHeight}addItem(e){this._components["items-container"].node.appendChild(e.getNode()),e.setIdx(this._listItems.push(e)-1),e.setParentComponent(this)}getItem(e){return this._listItems[e]}_draw(){super._draw()}}const p=o.getElementById("app"),h=o.getElementById("add-new-list"),u=o.getElementById("btn-add-list");let f=[];s("lists",f),u.addEventListener("click",()=>{p.setAttribute("style","width:"+284*(f.length+2)+"px"),0===f.length&&(u.textContent="＋ Add Another list");let e=new l(p,h);e.setIdx(f.push(e)-1)}),window.addEventListener("DOMContentLoaded",()=>{s("ic-height",.7*window.innerHeight)})}]);